<!DOCTYPE HTML>
<!--
	TXT by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>Drone Project</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<!--[if lte IE 8]><script src="assets/js/ie/html5shiv.js"></script><![endif]-->
		<link rel="stylesheet" href="assets/css/main.css" />
		<!--[if lte IE 8]><link rel="stylesheet" href="assets/css/ie8.css" /><![endif]-->
	</head>
	<body onload="loaded()">
		<div id="page-wrapper">

			<!-- Header -->
				<header id="header">
					<div class="logo container">
						<div>
							<h1><a href="index.html" id="logo">Drone State Estimation and Navigation</a></h1>
							
						</div>
					</div>
				</header>

			
            
			<!-- Navbar -->
				<nav id="nav">
					<ul>
						<li><a href="index.html">Home</a></li>
						<li class="current">
							<a href="#">Projects</a>
							<ul>
                                <li><a href="Drone_Project.html">Drone Tracking</a></li>
                                <li><a href="MCL_Robot.html">MCL Robot</a></li>
								<li><a href="MipsSimulator.html">MIPS CPU simulator</a></li>
                                <li><a href="llvmCompiler.html">LLVM Compiler</a></li>
                                <li><a href="Caches.html">Cache simulator</a></li>
                                
                                
							</ul>
						</li>
                    
						<li ><a href="AboutMe.html">About</a></li>
                        <li><a href="CV.pdf">Resume</a></li>	
					</ul>
                   
                </nav>


            
            

			<!-- Main -->
				<div id="main-wrapper">
					<div id="main" class="container">
						<div class="row">
							<div class="2u 12u(mobile)">
								<div class="sidebar">

									<!-- Sidebar -->

										<!-- Recent Posts -->
											<section>
												<h2 class="major"><span>Useful Links</span></h2>
												<ul>
													
                                                    <li> <a href="#"> Link to report</a>
                                                    </li>
                                                    <br>
                                                    <li>  <a href="#">Link to setup documentation </a>
                                                    </li> 
                                                    <br>
                                                    <li>
														<article class="box post-summary">
															<h3><a href="https://github.com/malharjajoo/caches_assignment">Github code link</a></h3>
															<a href="https://github.com/malharjajoo/caches_assignment" class="button alt">Code</a>
                                                            
														</article>
													</li>
												</ul>
											
											</section>

                                            
										

								</div>
							</div>
							<div class="10u 12u(mobile) important(mobile)">
								<div class="content content-right">

									<!-- Content -->

										<article class="box page-content">

											<header>
												<h2>Drone Tracking!</h2>
												
												<ul class="meta">
													<li class="icon fa-clock-o">April - June, 2018</li>
													
												</ul>
											</header>

											<section>
                                                <figure>
                                                    <span class="image featured"><img src="images/room_pic.png" alt="" /></span>
                                                    <figcaption class="image featured">
                                                        Fig.1 - Figure shows the complete system: The 3 wireless cameras are mounted on stands placed around the room.
                                                        The drone can be placed anywhere in the room, as long as it is within the view of one of the cameras.
                                                        The room is in the EEE building at Imperial College London.
                                                    </figcaption>
                                                </figure>	
											</section>

											<section>
												<h3>Overview</h3> 
                                                
												<p>
												    This was my (individual) Final Year Project as part of my Electronics and Information Engineering ( EIE ) degree curriculum at Imperial College London.
                                                    The goal of the project was to design and implement a real-time State Estimation and Navigation system ( for indoor environment ) for a Parrot A.R. Drone using cheap equipment. The main <b> hypothesis</b> explored in this project was:  <i>Multiple Internet Protocol ( IP ) cameras can be used for precise monitoring/tracking a Parrot A.R Drone in an indoor environment.</i>
                                                    
												<br>
                                                <br>
                                                    
												    The project can be broadly divided into a State Estimation phase and Navigation phase. The following sections give a brief overview of each phase and also provide a video of both components in practice.
												</p>
												
											</section>
                                            
                                            <section>
												<h3>Task 1: State Estimation </h3>
												<p>
												    The first task was to find the State/pose of the drone using LEDs placed on the drone hull.
                                                     
                                                    
												</p>
                                                
                                                Click on any one of the play/pause button on the videos to play/pause all of them simultaneously. The camera images are 
                                                synchronized so as to combine measurements from the 3 cameras.
                                                Notice that the resolution of the (nearly) real-time video stream
                                                is low (640 x 480p). This is because the State Estimation module was too slow (high latency) when using the IP cameras at HD resolution.  
                                                
                                                <br>
                                                <br>
                                                
                                                <div class="container">
                                                    <div class="row">
                                                        
                                                        
                                                        <div class="col">
                                                            <video controls width="420" height="auto" id="state_estimation:cam1"> 

                                                                <source src="videos/cam777_mesh.mp4" type="video/mp4">
                                                            </video>
                                                        </div>

                                                        <div class="col">
                                                            <video controls width="420" height="auto" id="state_estimation:cam2"> 

                                                                 <source src="videos/cam778_mesh.mp4" type="video/mp4">
                                                            </video>
                                                        </div>
                                                        
                                                        <div class="col">
                                                            <video controls width="420" height="auto" id="state_estimation:cam3"> 

                                                                 <source src="videos/cam734_mesh.mp4" type="video/mp4">
                                                            </video>
                                                        </div>
                                                        
                                                    </div>
                                                </div>
                                            
												
											</section>
                                            
                                            <p>
                                                In order to quickly verify (visually/qualitatively) the estimation accuracy, 3D meshes were projected onto each camera image
                                                using the Projection function of the camera. Two 3D meshes (blue and pink) are projected onto the camera image. 
                                                The blue mesh is projected using camera-to-drone pose, pink mesh is projected using world-to-camera pose. 
                                                
                                            </p>     
                                            
                                                Based on the video, two key observations can be made: 
                                                <ul>
                                                    <li>
                                                        1) The state estimates from each camera agree well with each other (since pink mesh almost aligns with blue mesh). 
                                                    </li>
                                                    
                                                    <li>
                                                        2) State Estimate obtained from each camera is reasonably accurate (since the blue mesh aligns well with the drone in each camera image).
                                                    </li>
                                                    
                                                </ul>
                                            
                                             <section>
												<h3>Task 2: Feedback Control </h3>
												<p>
												    After building a State Estimation module, the best way to confirm the accuracy is to integrate a closed-Loop Feedback controller with the 
                                                    State Estimation module.
												</p>
												
                                               
                                            
                                            
                                           
                                            <h3> Evaluation: Simple Navigation Test </h3>
                                            <p>To confirm/validate the Estimation accuracy (a single camera is used for estimation in videos below), and the Feedback Controller is integrated into the system. The destination point is marked on the ground (as a cross mark with black tape) and its coordinates are found using a standard measuring tape. These coordinates are provided to the Feedback controller and the drone is made to navigate from start point to the destination.
                                            
                                            </p>
                                            
                                            
                                            
                                            
                                                
                                                Click on any of the videos to start it.
                                                 
                                                 <br>
                                                 <br>
                                            
                                                
                                                <div class="container">
                                                    <div class="row">
                                                        
                                                        
                                                        <div class="col">
                                                            <video controls width="420" height="auto" id="navigation:cam1"> 

                                                                <source src="videos/pidControl_faulty.mp4" type="video/mp4">
                                                            </video>
                                                        </div>

                                                        <div class="col">
                                                            <video controls width="420" height="auto" id="navigation:cam2"> 

                                                                 <source src="videos/pidControl_perfect.mp4" type="video/mp4">
                                                            </video>
                                                        </div>
                                                    </div>
                                                </div>

                                            </section>


											<section>
												<h3>Conclusion</h3>
												<p>
													This project has successfully confirmed the Hypothesis stated at the beginning.

                                                    The project provides a detailed design of various components and algorithms needed to implement the State Estimation module, with a special emphasis on making sure the real-time requirements are met at every stage of the process. It is also ensured that the design is future extensible if someone wishes to continue on this project later.

                                                </p>
                                                <p>
                                                    The performance of the State Estimation module, both in terms of accuracy and latency was evaluated. Based on the Evaluation results, the Estimation Error was found to be approximately 5.5351 cm for Position and 2.127 degrees for Orientation. The real-time characteristic of the final design were found to be 29 FPS (if using 1 camera), 18 FPS (if using 2 cameras), 12 FPS (if using 3 cameras). These values are not as accurate/fast as commercial products, however, this is the trade-off when working with cheaper cameras and LEDs in the visible spectrum as compared to using expensive cameras and LEDs in the Infrared (IR) spectrum.
												</p>
												
											</section>

										</article>

								</div>
							</div>
						</div>
						<div class="row 200%">
							<div class="12u">

								<!-- Features -->
									<section class="box features">
										<h2 class="major"><span>Other Projects</span></h2>
										<div>
											<div class="row">
												
                                                <div class="3u 12u(mobile)">

													<!-- Feature -->
														<section class="box feature">
															<a href="MCL_Robot.html" class="image featured"><img src="images/caterpi(e).jpg" alt="Robotics Project using Lego and Raspberry Pi" /></a>
															<h3>MCL Robot </h3>
                                                            
															<p style="text-align:left">
																Built a Robot using Lego Mindstorms NXT and a Raspberry Pi.  
															</p>
                                                            
                                                            <p>
                                                                See <a href="https://github.com/malharjajoo/Robotics"> Github code </a> directly.
                                                            </p>
                                                            
														</section>

												</div>
                                                
                                                
												<div class="3u 12u(mobile)">

													<!-- Feature -->
														<section class="box feature">
															<a href="llvmCompiler.html" class="image featured"><img src="images/llvmCompiler.png" alt="Exploring LLVM API" /></a>
															<h3>LLVM compiler</h3>
                                                            
															<p style="text-align:left">
																Worked with LLVM Compiler Toolchain as part of an internship at Arm.
															</p>
														</section>

												</div>
                                                
                                                <div class="3u 12u(mobile)">

													<!-- Feature -->
														<section class="box feature">
															<a href="MipsSimulator.html" class="image featured"><img src="images/mips.png" alt="C++ MIPS simulator" /></a>
															<h3><a href="#"> MIPS CPU simulator</a></h3>
                                                            
															<p style="text-align:left">
																Built a CPU simulator and testbench for the  MIPS I instruction set. 
															</p>
                                                            
                                                             <p>
                                                                See <a href="https://github.com/malharjajoo/mips_simulator_testbench"> Github code </a> directly.
                                                            </p>
                                                            
														</section>

												</div>
                                                
                                                <div class="3u 12u(mobile)">

													<!-- Feature -->
														<section class="box feature">
                                                            
															<a href="Caches.html" class="image featured"><img src="images/caches.png" alt="C++ Write-back Cache Simulator" /></a>
															<h3><a href="https://github.com/malharjajoo/caches_assignment">Write-Back Cache Simulator</a></h3>
                                                            
															<p style="text-align:left">
												                Built a write-back cache simulator with LRU replacement policy  in C++.
															</p>
                                                            <p>
                                                                See <a href="https://github.com/malharjajoo/caches_assignment"> Github code </a> directly.
                                                            </p>
														</section>

												</div>
                                                
												
											</div>
											
										</div>
									</section>

							</div>
						</div>
					</div>
				</div>

			<!-- Footer -->
				<footer id="footer" class="container">
					
                   
					<div class="row 200%">
						<div class="12u">
                            <h2 class="major"><span>Contact </span></h2>
							<!-- Contact -->
                        
								<section>
									<p> Please feel free to Contact me on either of the below</p>
									<ul class="contact">
										<li><a class="icon fa-facebook" href="https://www.facebook.com/profile.php?id=100008377770441"><span class="label">Facebook</span></a></li>
                                        
										<li><a class="icon fa-linkedin" href="https://www.linkedin.com/in/malhar-jajoo-2b9105b5/"><span class="label">Linkedin</span></a></li>
										
										<li><a class="icon fa-google-plus" href="https://plus.google.com/100025409019749078034"><span class="label">Google+</span></a></li>
									</ul>
								</section>

						</div>
					</div>

				</footer>

		</div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.dropotron.min.js"></script>
			<script src="assets/js/skel.min.js"></script>
			<script src="assets/js/skel-viewport.min.js"></script>
			<script src="assets/js/util.js"></script>
			<!--[if lte IE 8]><script src="assets/js/ie/respond.min.js"></script><![endif]-->
			<script src="assets/js/main.js"></script>

            <script>
                function loaded() 
                {
                    
                    
                    var vid1_stEst = document.getElementById("state_estimation:cam1");
                    var vid2_stEst = document.getElementById("state_estimation:cam2");
                    var vid3_stEst = document.getElementById("state_estimation:cam3");
                    
                    var vid1_nav = document.getElementById("navigation:cam1");
                    var vid2_nav = document.getElementById("navigation:cam2");
                    
                    // play all 3 together
                    vid1_stEst.onplay = playStateEstimationVideos
                    vid2_stEst.onplay = playStateEstimationVideos
                    vid3_stEst.onplay = playStateEstimationVideos
                    
                    // pause all 3 together
                    vid1_stEst.onpause = pauseStateEstimationVids
                    vid2_stEst.onpause = pauseStateEstimationVids
                    vid3_stEst.onpause = pauseStateEstimationVids
                    
                    // play all 2 together
                    //vid1_nav.onplay = playNavVideos
                    //vid2_nav.onplay = playNavVideos
                    
                    // pause all 2 together
                    //vid1_nav.onpause = pauseNavVids
                    //vid2_nav.onpause = pauseNavVids
    
 
                }
                
                // Pause all Videos for state estimation
                function pauseStateEstimationVids(e)
                {
                    var vid1 = document.getElementById("state_estimation:cam1");
                    var vid2 = document.getElementById("state_estimation:cam2");
                    var vid3 = document.getElementById("state_estimation:cam3");
                    
                    vid1.pause();
                    vid2.pause();
                    vid3.pause();
                }
                
                // Play all Videos for state estimation
                function playStateEstimationVideos(e) 
                {      
                    var vid1 = document.getElementById("state_estimation:cam1");
                    var vid2 = document.getElementById("state_estimation:cam2");
                    var vid3 = document.getElementById("state_estimation:cam3");

                    vid1.volume = 0.3;
                    vid2.volume = 0.3;
                    vid3.volume = 0.3;

                    vid1.play();
                    vid2.play();
                    vid3.play();
                   
                }
                
                
                // Pause all Videos for state estimation
                function pauseNavVids(e)
                {
                    var vid1 = document.getElementById("navigation:cam1");
                    var vid2 = document.getElementById("navigation:cam2");
                    
                    vid1.pause();
                    vid2.pause();
                   
                }
                
                // Videos for Navigation.
                function playNavVideos(e) 
                {      
                    var vid1 = document.getElementById("navigation:cam1");
                    var vid2 = document.getElementById("navigation:cam2");
                  
                    vid1.volume = 0.3;
                    vid2.volume = 0.3;
                    
                    vid1.play();
                    vid2.play();
                    
                }
            
                
            </script>
	</body>
</html>